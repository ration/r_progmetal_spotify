<!-- Filter Component -->
<div class="filters bg-base-100 p-6 rounded-lg shadow-lg mb-8">
    <div class="flex flex-wrap gap-4 items-end">
        <!-- Genre Filter -->
        <div class="form-control flex-1 min-w-[200px]">
            <label class="label">
                <span class="label-text font-semibold">Filter by Genre</span>
            </label>
            <select
                name="genre"
                class="select select-bordered w-full"
                hx-get="{% url 'catalog:album-list' %}"
                hx-target="#album-tiles"
                hx-push-url="true"
                hx-include="[name='vocal']"
                hx-trigger="change"
            >
                <option value="">All Genres</option>
                {% for genre in genres %}
                <option value="{{ genre.slug }}" {% if genre.slug == active_genre %}selected{% endif %}>
                    {{ genre.name }}
                </option>
                {% endfor %}
            </select>
        </div>

        <!-- Vocal Style Filter -->
        <div class="form-control flex-1 min-w-[200px]">
            <label class="label">
                <span class="label-text font-semibold">Filter by Vocal Style</span>
            </label>
            <select
                name="vocal"
                class="select select-bordered w-full"
                hx-get="{% url 'catalog:album-list' %}"
                hx-target="#album-tiles"
                hx-push-url="true"
                hx-include="[name='genre']"
                hx-trigger="change"
            >
                <option value="">All Vocal Styles</option>
                {% for vocal in vocal_styles %}
                <option value="{{ vocal.slug }}" {% if vocal.slug == active_vocal %}selected{% endif %}>
                    {{ vocal.name }}
                </option>
                {% endfor %}
            </select>
        </div>

        <!-- Clear Filters Button -->
        {% if has_active_filters %}
        <div class="form-control">
            <a href="{% url 'catalog:album-list' %}" class="btn btn-outline">
                Clear Filters
            </a>
        </div>
        {% endif %}
    </div>

    <!-- Active Filter Indicators -->
    {% if has_active_filters %}
    <div class="mt-4 flex gap-2 flex-wrap">
        <span class="text-sm font-semibold">Active filters:</span>
        {% if active_genre %}
            {% for genre in genres %}
                {% if genre.slug == active_genre %}
                <span class="badge badge-primary gap-2">
                    Genre: {{ genre.name }}
                    <a href="?{% if active_vocal %}vocal={{ active_vocal }}{% endif %}" class="hover:text-white">✕</a>
                </span>
                {% endif %}
            {% endfor %}
        {% endif %}
        {% if active_vocal %}
            {% for vocal in vocal_styles %}
                {% if vocal.slug == active_vocal %}
                <span class="badge badge-primary gap-2">
                    Vocal: {{ vocal.name }}
                    <a href="?{% if active_genre %}genre={{ active_genre }}{% endif %}" class="hover:text-white">✕</a>
                </span>
                {% endif %}
            {% endfor %}
        {% endif %}
    </div>
    {% endif %}
</div>
